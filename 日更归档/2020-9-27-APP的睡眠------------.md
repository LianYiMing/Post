---
layout:     post
title:      APP的睡眠
subtitle:   
date:       2020-9-27
author:     廉一鸣
header-img: 
catalog: true
tags:
    - n.

---

## APP的睡眠

我们都知道，应用的睡眠也就指的是的应用退到后台以后被运行内存管理的系统组件或者软件杀死后的状态。

但是有时候会发现有些应用打开的会非常快，而有些应用点开貌似的卡，上个一两秒才能打开，这就是系统让应用睡觉的方式不同，所谓浅睡眠也就是应用被杀死的时候并不是被完全杀死，而是在运行内存里保留了缓存，在下次打开的时候，因为有缓存，所以打开的速度就会更快(基本上也就是点开图标就把应用打开了)，但同时也需要占用一部分的运行内存

而顾名思义深睡眠就跟浅睡眠相反，就是应用在运行内存里，完全被杀死，在下次启动的时候需要全部重新再回到运行内存上。所以相应的启动就会比起浅睡眠要慢

因为浅睡眠对运行内存有要求，但是速度又快，用户体验好，所以越高配的手机往往会发现点开图标到应用打开的延迟越小

也就是浅睡眠的应用会很多，而深睡眠的应用也就很少

怎么分配?

既然浅睡眠可以打开的速度快，那么用户越常用的应用，如果能打开的速度越快，那么体验肯定就会更好，所以很多系统里都内置了有统计应用被打开的频次，频次高也就越有可能在被休眠的时候被浅睡眠

原生安卓里的设置好像就有这么一项。(记不清了，好久没刷[原生](https://mp.weixin.qq.com/s?__biz=MzI4Nzc2MzA3OQ==&mid=2247483952&idx=2&sn=a0fd2a36cd857b1ab821ba18d829c1f3&scene=21#wechat_redirect)了)